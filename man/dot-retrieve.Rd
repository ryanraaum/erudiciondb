% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/interface.R
\name{.retrieve}
\alias{.retrieve}
\title{Retrieve objects from database by ID or other column}
\usage{
.retrieve(
  connection,
  object_type,
  object_id,
  stage = 0,
  revision = "max",
  by = NULL,
  as_list = TRUE
)
}
\arguments{
\item{connection}{Database connection or pool}

\item{object_type}{Type of object (singular form: "item", "person", etc.)}

\item{object_id}{Value(s) to search for (can be vector for multiple objects)}

\item{stage}{Activation stage filter (0 = active, -1 = inactive, default: 0)}

\item{revision}{Revision filter ("max" = latest, "all" = all, or specific number)}

\item{by}{Column name to search on instead of object_id (default: NULL)}

\item{as_list}{Return as list format (TRUE, default) or data frame (FALSE)}
}
\value{
If as_list=TRUE: list of objects (each as a list). If as_list=FALSE: data frame
}
\description{
Retrieves one or more objects from the database by their ID (or alternative
column), with filtering by stage and revision.
}
\details{
Query pipeline:
\enumerate{
\item Filter by specified column (object_id by default, or \code{by} parameter)
\item Filter by stage (only active/inactive as specified)
\item Filter by revision (latest, all, or specific number via \code{.make_revision_filter()})
\item Collect from database and add object_type field
\item Convert to list format (if as_list=TRUE)
}

Can retrieve multiple objects by passing a vector to object_id parameter.
The \code{by} parameter allows searching on alternative columns (e.g., by="orcid"
to retrieve persons by ORCID).
}
\note{
Stage filter is applied BEFORE revision filter. This means revision="max"
returns the latest revision AT the specified stage, not the latest overall.
}
\keyword{internal}
