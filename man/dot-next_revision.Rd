% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/interface.R
\name{.next_revision}
\alias{.next_revision}
\title{Calculate next revision number for an object}
\usage{
.next_revision(connection, object_type, object_id)
}
\arguments{
\item{connection}{Database connection or pool}

\item{object_type}{Type of object (singular form: "item", "person", etc.)}

\item{object_id}{UUID of the object}
}
\value{
Integer: the next available revision number (max existing revision + 1)
}
\description{
Finds the maximum existing revision number for an object and returns the next
sequential revision number. Used when creating new revisions during updates.
}
\details{
This function queries all revisions of an object (across all stages) to find
the maximum revision number, then increments it. Throws an error if the object
does not exist in the database.
}
\note{
Will throw an error if object_id not found. This is part of the revision
tracking system where each update creates a new revision rather than modifying
in place.
}
\keyword{internal}
