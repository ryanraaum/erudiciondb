% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/interface.R
\name{.item_persons_to_biblio_persons}
\alias{.item_persons_to_biblio_persons}
\title{Transform item_persons data to CSL-compliant person format}
\usage{
.item_persons_to_biblio_persons(list_item)
}
\arguments{
\item{list_item}{Single item from CSL list (has item data + personlist type list-columns)}
}
\value{
Same list_item with personlist data transformed to CSL person format
}
\description{
Converts item_persons data frames (in list-columns) to CSL person list format,
renaming fields to hyphenated CSL names and filtering metadata.
}
\details{
For each personlist_type in the item (author, editor, etc.):
\enumerate{
\item Extract the persons data frame from list-column
\item Rename optional CSL columns to hyphenated format:
\itemize{
\item dropping_particle → dropping-particle
\item non_dropping_particle → non-dropping-particle
\item comma_suffix → comma-suffix
\item static_ordering → static-ordering
\item parse_names → parse-names
}
\item Arrange by position field
\item Convert each row to a list (preserving structure)
\item Filter out NAs and internal metadata (keep person_id)
\item Replace list-column with CSL person list
}
}
\note{
Handles NULL, empty, and non-dataframe personlists gracefully. The person_id
field is kept (via keep="person_id") for potential focal person tracking.
}
\keyword{internal}
