% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/interface.R
\name{.find}
\alias{.find}
\title{Find objects using hierarchical search strategies}
\usage{
.find(connection, object_type, object_data, stage = 0, revision = "max")
}
\arguments{
\item{connection}{Database connection or pool}

\item{object_type}{Type of object (singular form: "item", "person_identifier", etc.)}

\item{object_data}{List containing search criteria (fields to match)}

\item{stage}{Activation stage filter (0 = active, -1 = inactive, default: 0)}

\item{revision}{Revision filter ("max" = latest, "all" = all, or specific number)}
}
\value{
Data frame with matching objects plus similarity and found_by columns
}
\description{
Attempts to find matching objects in the database using multiple search strategies
in priority order, with specialized logic for items and person_identifiers.
}
\details{
\strong{For items}, uses hierarchical search (stops at first match):
\enumerate{
\item By identifier (DOI, PMID, PMCID) via \code{.find_item_by_identifier()}
\item By year/volume/first_page via \code{.find_item_by_year_volume_page()}
\item By title (Jaro-Winkler similarity â‰¥ 0.9) via \code{.find_item_by_title()}
\item By associated person_id via \code{.find_item_by_person()}
\item Fallback: Inner join on all provided fields
}

\strong{For person_identifiers}, uses \code{.find_person_identifier()} with three strategies.

\strong{For other object types}, uses direct inner join on all provided fields.

Results include:
\itemize{
\item \code{similarity}: Numeric similarity score (1.0 for exact matches, <1.0 for fuzzy)
\item \code{found_by}: String indicating which search strategy succeeded
}
}
\note{
Stage and revision filters applied AFTER search strategies run. Returns empty
tibble if no matches found. Each search function defines what constitutes a match.
}
\keyword{internal}
