% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/interface.R
\name{.make_revision_filter}
\alias{.make_revision_filter}
\title{Generate revision filter function for dplyr pipelines}
\usage{
.make_revision_filter(rev)
}
\arguments{
\item{rev}{Revision selector:
\itemize{
\item "max" (default): Return only the most recent revision
\item "all": Return all revisions (no filtering)
\item \if{html}{\out{<number>}}: Return specific revision number
}}
}
\value{
Function that takes a data frame (.data) and returns filtered data frame
}
\description{
Creates a filter function that can be applied to select specific revisions
from query results. Used after stage filtering in retrieval operations.
}
\details{
This function returns a closure that can be applied in dplyr pipelines:
\itemize{
\item "max" returns a function that uses \code{slice_max()} on revision column
\item "all" returns a function that returns all rows (filter(TRUE))
\item Numeric value returns a function that filters to that specific revision
}

The filter is applied AFTER the stage filter in retrieval queries, meaning
it operates on the subset of rows already filtered by stage.
}
\note{
Used internally by \code{.retrieve()} and \code{.find()} to handle the revision parameter.
The returned function is called immediately in a pipeline via \verb{()}.
}
\keyword{internal}
